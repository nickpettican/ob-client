import{d as P,u as N,p as i,r as s,c as j,b as t,w as n,o as w,e as c,t as d,A,j as M,g as h,k as R,D as T,_ as z}from"./index-DnI3NASo.js";import{u as E}from"./onboarding-BTHmlbqr.js";const H={class:"onboarding-container"},I={class:"text-center"},F={class:"text-h3 text-white mb-4"},G={class:"text-h6 text-white"},J={class:"text-h4 mb-6"},K=P({__name:"OnboardingStep2View",setup(L){const $=N(),f=E(),g=i(),u=i(!1),m=i(""),p=i(!1),l=i({ordinationDate:"",vowPreceptor:"",tradition:"",school:"",monastery:"",lifestyle:void 0}),k=["Buddhist","Christian","Hindu","Other"],D=[{value:"anchorite",title:"onboarding.step2.anchorite"},{value:"cenobite",title:"onboarding.step2.cenobite"},{value:"gyrovague",title:"onboarding.step2.gyrovague"}],r={required:a=>!!a||"Required"},S=async()=>{const{valid:a}=await g.value.validate();if(a){u.value=!0,m.value="";try{f.updateStep2(l.value),await f.submitOnboarding(),$.push("/pending")}catch(e){m.value=e.message||"An error occurred during submission"}finally{u.value=!1}}};return(a,e)=>{const b=s("v-col"),q=s("v-alert"),v=s("v-text-field"),U=s("v-date-picker"),x=s("v-menu"),_=s("v-select"),B=s("v-btn"),C=s("v-form"),V=s("v-row"),y=s("v-container");return w(),j("div",H,[t(y,{fluid:"",class:"pa-0 h-100"},{default:n(()=>[t(V,{"no-gutters":"",class:"h-100"},{default:n(()=>[t(b,{cols:"12",md:"6",class:"bg-secondary d-flex align-center justify-center onboarding-image",style:{"min-height":"300px"}},{default:n(()=>[c("div",I,[c("h2",F,d(a.$t("onboarding.step2.imageTitle")),1),c("p",G,d(a.$t("onboarding.step2.imageSubtitle")),1)])]),_:1}),t(b,{cols:"12",md:"6",class:"d-flex align-center"},{default:n(()=>[t(y,null,{default:n(()=>[t(V,{justify:"center"},{default:n(()=>[t(b,{cols:"12",sm:"8",lg:"6"},{default:n(()=>[c("h1",J,d(a.$t("onboarding.step2.title")),1),t(C,{onSubmit:A(S,["prevent"]),ref_key:"form",ref:g},{default:n(()=>[m.value?(w(),M(q,{key:0,type:"error",variant:"tonal",closable:"",class:"mb-4"},{default:n(()=>[h(d(m.value),1)]),_:1})):R("",!0),t(x,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),"close-on-content-click":!1},{activator:n(({props:o})=>[t(v,T({modelValue:l.value.ordinationDate,"onUpdate:modelValue":e[0]||(e[0]=O=>l.value.ordinationDate=O),label:a.$t("onboarding.step2.ordinationDate"),rules:[r.required],"prepend-icon":"mdi-calendar",readonly:""},o,{variant:"outlined",class:"mb-4"}),null,16,["modelValue","label","rules"])]),default:n(()=>[t(U,{modelValue:l.value.ordinationDate,"onUpdate:modelValue":[e[1]||(e[1]=o=>l.value.ordinationDate=o),e[2]||(e[2]=o=>p.value=!1)]},null,8,["modelValue"])]),_:1},8,["modelValue"]),t(v,{modelValue:l.value.vowPreceptor,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.vowPreceptor=o),label:a.$t("onboarding.step2.vowPreceptor"),rules:[r.required],variant:"outlined",class:"mb-4"},null,8,["modelValue","label","rules"]),t(_,{modelValue:l.value.tradition,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.tradition=o),items:k,label:a.$t("onboarding.step2.tradition"),rules:[r.required],variant:"outlined",class:"mb-4"},null,8,["modelValue","label","rules"]),t(v,{modelValue:l.value.school,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.school=o),label:a.$t("onboarding.step2.school"),rules:[r.required],variant:"outlined",class:"mb-4"},null,8,["modelValue","label","rules"]),t(v,{modelValue:l.value.monastery,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.monastery=o),label:a.$t("onboarding.step2.monastery"),rules:[r.required],variant:"outlined",class:"mb-4"},null,8,["modelValue","label","rules"]),t(_,{modelValue:l.value.lifestyle,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.lifestyle=o),items:D,label:a.$t("onboarding.step2.lifestyle"),rules:[r.required],variant:"outlined",class:"mb-6"},null,8,["modelValue","label","rules"]),t(B,{block:"",color:"primary",size:"large",type:"submit",loading:u.value,disabled:u.value},{default:n(()=>[h(d(a.$t("onboarding.step2.submit")),1)]),_:1},8,["loading","disabled"])]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),X=z(K,[["__scopeId","data-v-d84395f7"]]);export{X as default};
